/*
 * TI81XX PRCM register access macros and module offsets
 *
 * Copyright (C) 2010-2011 Texas Instruments, Inc. - http://www.ti.com/
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License as
 * published by the Free Software Foundation version 2.
 *
 * This program is distributed "as is" WITHOUT ANY WARRANTY of any
 * kind, whether express or implied; without even the implied warranty
 * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#ifndef __ARCH_ARM_MACH_OMAP2_PRCM81XX_H
#define __ARCH_ARM_MACH_OMAP2_PRCM81XX_H

#include "prcm-common.h"

#define TI81XX_PRCM_REGADDR(instance, reg)				\
	OMAP2_L4_IO_ADDRESS(TI81XX_PRCM_BASE + (instance) + (reg))

/*
 * TI81XX-common PRM/CM instance offsets
 */
#define TI81XX_PRM_DEVICE_INST			0x0000	/* 256B */
#define TI81XX_CM_DEVICE_INST			0x0100	/* 256B */
#define TI81XX_PRM_OCP_SOCKET_INST		0x0200	/* 256B */
#define TI81XX_CM_DPLL_INST			0x0300	/* 256B */
#define TI81XX_CM_ACTIVE_INST			0x0400	/* 256B */
#define TI81XX_CM_DEFAULT_INST			0x0500	/* 256B */
#define TI81XX_CM_SGX_INST			0x0900	/* 256B */
#define TI81XX_PRM_ACTIVE_INST			0x0a00	/* 256B */
#define TI81XX_PRM_DEFAULT_INST			0x0b00	/* 256B */
#define TI81XX_PRM_SGX_INST			0x0f00	/* 256B */
#define TI81XX_CM_ALWON_INST			0x1400	/* 1KB */

/*
 * TI81xx-common register offsets
 */

/* PRM_DEVICE */
#define TI81XX_PRM_DEVICE_RSTCTRL_OFFSET		0x0000
#define TI81XX_PRM_DEVICE_RSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_PRM_DEVICE_INST, 0x0000)
#define TI81XX_PRM_DEVICE_RSTTIME_OFFSET		0x0004
#define TI81XX_PRM_DEVICE_RSTTIME			TI81XX_PRCM_REGADDR(TI81XX_PRM_DEVICE_INST, 0x0004)
#define TI81XX_PRM_DEVICE_RSTST_OFFSET			0x0008
#define TI81XX_PRM_DEVICE_RSTST				TI81XX_PRCM_REGADDR(TI81XX_PRM_DEVICE_INST, 0x0008)

/* CM_DEVICE */
#define TI81XX_CM_DEVICE_CLKOUT_CTRL_OFFSET		0x0000
#define TI81XX_CM_DEVICE_CLKOUT_CTRL			TI81XX_PRCM_REGADDR(TI81XX_CM_DEVICE_INST, 0x0000)

/* OCP_SOCKET_PRM */
#define TI81XX_PRM_OCP_SOCKET_REVISION_OFFSET		0x0000
#define TI81XX_PRM_OCP_SOCKET_REVISION			TI81XX_PRCM_REGADDR(TI81XX_PRM_OCP_SOCKET_INST, 0x0000)

/* CM_ACTIVE */
#define TI81XX_CM_ACTIVE_GEM_CLKSTCTRL_OFFSET		0x0000
#define TI81XX_CM_ACTIVE_GEM_CLKSTCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ACTIVE_INST, 0x0000)
#define TI81XX_CM_ACTIVE_GEM_CLKCTRL_OFFSET		0x0020
#define TI81XX_CM_ACTIVE_GEM_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ACTIVE_INST, 0x0020)

/* CM_SGX */
#define TI81XX_CM_SGX_SGX_CLKSTCTRL_OFFSET		0x0000
#define TI81XX_CM_SGX_SGX_CLKSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_CM_SGX_INST, 0x0000)
#define TI81XX_CM_SGX_SGX_SGX_CLKCTRL_OFFSET		0x0020
#define TI81XX_CM_SGX_SGX_SGX_CLKCTRL			TI81XX_PRCM_REGADDR(TI81XX_CM_SGX_INST, 0x0020)

/* PRM_ACTIVE */
#define TI81XX_PRM_ACTIVE_PM_PWRSTCTRL_OFFSET		0x0000
#define TI81XX_PRM_ACTIVE_PM_PWRSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_PRM_ACTIVE_INST, 0x0000)
#define TI81XX_PRM_ACTIVE_PM_PWRSTST_OFFSET		0x0004
#define TI81XX_PRM_ACTIVE_PM_PWRSTST			TI81XX_PRCM_REGADDR(TI81XX_PRM_ACTIVE_INST, 0x0004)
#define TI81XX_PRM_ACTIVE_RM_RSTCTRL_OFFSET		0x0010
#define TI81XX_PRM_ACTIVE_RM_RSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_PRM_ACTIVE_INST, 0x0010)
#define TI81XX_PRM_ACTIVE_RM_RSTST_OFFSET		0x0014
#define TI81XX_PRM_ACTIVE_RM_RSTST			TI81XX_PRCM_REGADDR(TI81XX_PRM_ACTIVE_INST, 0x0014)

/* PRM_SGX */
#define TI81XX_PRM_SGX_PM_PWRSTCTRL_OFFSET		0x0000
#define TI81XX_PRM_SGX_PM_PWRSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_PRM_SGX_INST, 0x0000)
#define TI81XX_PRM_SGX_PM_PWRSTST_OFFSET		0x0004
#define TI81XX_PRM_SGX_PM_PWRSTST			TI81XX_PRCM_REGADDR(TI81XX_PRM_SGX_INST, 0x0004)
#define TI81XX_PRM_SGX_RM_RSTCTRL_OFFSET		0x0010
#define TI81XX_PRM_SGX_RM_RSTCTRL			TI81XX_PRCM_REGADDR(TI81XX_PRM_SGX_INST, 0x0010)
#define TI81XX_PRM_SGX_RM_RSTST_OFFSET			0x0014
#define TI81XX_PRM_SGX_RM_RSTST				TI81XX_PRCM_REGADDR(TI81XX_PRM_SGX_INST, 0x0014)

/* CM_ALWON */
#define TI81XX_CM_ALWON_L3_SLOW_CLKSTCTRL_OFFSET	0x0000
#define TI81XX_CM_ALWON_L3_SLOW_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0000)
#define TI81XX_CM_ETHERNET_CLKSTCTRL_OFFSET		0x0004
#define TI81XX_CM_ETHERNET_CLKSTCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0004)
#define TI81XX_CM_ALWON_L3_MED_CLKSTCTRL_OFFSET		0x0008
#define TI81XX_CM_ALWON_L3_MED_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0008)
#define TI81XX_CM_MMU_CLKSTCTRL_OFFSET			0x000C
#define TI81XX_CM_MMU_CLKSTCTRL				TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x000C)
#define TI81XX_CM_MMUCFG_CLKSTCTRL_OFFSET		0x0010
#define TI81XX_CM_MMUCFG_CLKSTCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0010)
#define TI81XX_CM_ALWON_OCMC_0_CLKSTCTRL_OFFSET		0x0014
#define TI81XX_CM_ALWON_OCMC_0_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0014)
#define TI81XX_CM_ALWON_SYSCLK4_CLKSTCTRL_OFFSET	0x0020
#define TI81XX_CM_ALWON_SYSCLK4_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0020)
#define TI81XX_CM_ALWON_SYSCLK5_CLKSTCTRL_OFFSET	0x0024
#define TI81XX_CM_ALWON_SYSCLK5_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0024)
#define TI81XX_CM_ALWON_SYSCLK6_CLKSTCTRL_OFFSET	0x0028
#define TI81XX_CM_ALWON_SYSCLK6_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0028)
#define TI81XX_CM_ALWON_RTC_CLKSTCTRL_OFFSET		0x002C
#define TI81XX_CM_ALWON_RTC_CLKSTCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x002C)
#define TI81XX_CM_ALWON_L3_FAST_CLKSTCTRL_OFFSET	0x0030
#define TI81XX_CM_ALWON_L3_FAST_CLKSTCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0030)
#define TI81XX_CM_ALWON_MCASP0_CLKCTRL_OFFSET		0x0140
#define TI81XX_CM_ALWON_MCASP0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0140)
#define TI81XX_CM_ALWON_MCASP1_CLKCTRL_OFFSET		0x0144
#define TI81XX_CM_ALWON_MCASP1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0144)
#define TI81XX_CM_ALWON_MCASP2_CLKCTRL_OFFSET		0x0148
#define TI81XX_CM_ALWON_MCASP2_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0148)
#define TI81XX_CM_ALWON_MCBSP_CLKCTRL_OFFSET		0x014C
#define TI81XX_CM_ALWON_MCBSP_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x014C)
#define TI81XX_CM_ALWON_UART_0_CLKCTRL_OFFSET		0x0150
#define TI81XX_CM_ALWON_UART_0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0150)
#define TI81XX_CM_ALWON_UART_1_CLKCTRL_OFFSET		0x0154
#define TI81XX_CM_ALWON_UART_1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0154)
#define TI81XX_CM_ALWON_UART_2_CLKCTRL_OFFSET		0x0158
#define TI81XX_CM_ALWON_UART_2_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0158)
#define TI81XX_CM_ALWON_GPIO_0_CLKCTRL_OFFSET		0x015C
#define TI81XX_CM_ALWON_GPIO_0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x015C)
#define TI81XX_CM_ALWON_GPIO_1_CLKCTRL_OFFSET		0x0160
#define TI81XX_CM_ALWON_GPIO_1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0160)
#define TI81XX_CM_ALWON_I2C_0_CLKCTRL_OFFSET		0x0164
#define TI81XX_CM_ALWON_I2C_0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0164)
#define TI81XX_CM_ALWON_I2C_1_CLKCTRL_OFFSET		0x0168
#define TI81XX_CM_ALWON_I2C_1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0168)
#define TI81XX_CM_ALWON_TIMER_4_CLKCTRL_OFFSET		0x017C
#define TI81XX_CM_ALWON_TIMER_4_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x017C)
#define TI81XX_CM_ALWON_WDTIMER_CLKCTRL_OFFSET		0x018C
#define TI81XX_CM_ALWON_WDTIMER_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x018C)
#define TI81XX_CM_ALWON_SPI_CLKCTRL_OFFSET		0x0190
#define TI81XX_CM_ALWON_SPI_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0190)
#define TI81XX_CM_ALWON_MAILBOX_CLKCTRL_OFFSET		0x0194
#define TI81XX_CM_ALWON_MAILBOX_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0194)
#define TI81XX_CM_ALWON_SPINBOX_CLKCTRL_OFFSET		0x0198
#define TI81XX_CM_ALWON_SPINBOX_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0198)
#define TI81XX_CM_ALWON_MMUDATA_CLKCTRL_OFFSET		0x019C
#define TI81XX_CM_ALWON_MMUDATA_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x019C)
#define TI81XX_CM_ALWON_VLYNQ_CLKCTRL_OFFSET		0x01A0
#define TI81XX_CM_ALWON_VLYNQ_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01A0)
#define TI81XX_CM_ALWON_MMUCFG_CLKCTRL_OFFSET		0x01A8
#define TI81XX_CM_ALWON_MMUCFG_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01A8)
#define TI81XX_CM_ALWON_SDIO_CLKCTRL_OFFSET		0x01B0
#define TI81XX_CM_ALWON_SDIO_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01B0)
#define TI81XX_CM_ALWON_OCMC_0_CLKCTRL_OFFSET		0x01B4
#define TI81XX_CM_ALWON_OCMC_0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01B4)
#define TI81XX_CM_ALWON_CONTROL_CLKCTRL_OFFSET		0x01C4
#define TI81XX_CM_ALWON_CONTROL_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01C4)
#define TI81XX_CM_ALWON_GPMC_CLKCTRL_OFFSET		0x01D0
#define TI81XX_CM_ALWON_GPMC_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01D0)
#define TI81XX_CM_ALWON_ETHERNET_0_CLKCTRL_OFFSET	0x01D4
#define TI81XX_CM_ALWON_ETHERNET_0_CLKCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01D4)
#define TI81XX_CM_ALWON_ETHERNET_1_CLKCTRL_OFFSET	0x01D8
#define TI81XX_CM_ALWON_ETHERNET_1_CLKCTRL		TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01D8)
#define TI81XX_CM_ALWON_MPU_CLKCTRL_OFFSET		0x01DC
#define TI81XX_CM_ALWON_MPU_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01DC)
#define TI81XX_CM_ALWON_DEBUGSS_CLKCTRL_OFFSET		0x01E0
#define TI81XX_CM_ALWON_DEBUGSS_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01E0)
#define TI81XX_CM_ALWON_L3_CLKCTRL_OFFSET		0x01E4
#define TI81XX_CM_ALWON_L3_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01E4)
#define TI81XX_CM_ALWON_L4HS_CLKCTRL_OFFSET		0x01E8
#define TI81XX_CM_ALWON_L4HS_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01E8)
#define TI81XX_CM_ALWON_L4LS_CLKCTRL_OFFSET		0x01EC
#define TI81XX_CM_ALWON_L4LS_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01EC)
#define TI81XX_CM_ALWON_RTC_CLKCTRL_OFFSET		0x01F0
#define TI81XX_CM_ALWON_RTC_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01F0)
#define TI81XX_CM_ALWON_TPCC_CLKCTRL_OFFSET		0x01F4
#define TI81XX_CM_ALWON_TPCC_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01F4)
#define TI81XX_CM_ALWON_TPTC0_CLKCTRL_OFFSET		0x01F8
#define TI81XX_CM_ALWON_TPTC0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01F8)
#define TI81XX_CM_ALWON_TPTC1_CLKCTRL_OFFSET		0x01FC
#define TI81XX_CM_ALWON_TPTC1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x01FC)
#define TI81XX_CM_ALWON_TPTC2_CLKCTRL_OFFSET		0x0200
#define TI81XX_CM_ALWON_TPTC2_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0200)
#define TI81XX_CM_ALWON_TPTC3_CLKCTRL_OFFSET		0x0204
#define TI81XX_CM_ALWON_TPTC3_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0204)
#define TI81XX_CM_ALWON_SR_0_CLKCTRL_OFFSET		0x0208
#define TI81XX_CM_ALWON_SR_0_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x0208)
#define TI81XX_CM_ALWON_SR_1_CLKCTRL_OFFSET		0x020C
#define TI81XX_CM_ALWON_SR_1_CLKCTRL			TI81XX_CM_REGADDR(TI81XX_CM_ALWON_INST, 0x020C)

/*
 * Register offset aliases (for clearer code, at least in theory)
 */
#define TI81XX_PM_PWRSTCTRL_OFFSET			TI81XX_PRM_ACTIVE_PM_PWRSTCTRL_OFFSET
#define TI81XX_PM_PWRSTST_OFFSET			TI81XX_PRM_ACTIVE_PM_PWRSTST_OFFSET

/* Function prototypes */

extern void ti81xx_prcm_pwrdm_set_powerstate(u16 offs, u8 pwrst);
extern u8 ti81xx_prcm_pwrdm_read_powerstate(u16 offs);
extern u8 ti81xx_prcm_pwrdm_read_powerstatest(u16 offs);
extern u8 ti81xx_prcm_pwrdm_read_logicstatest(u16 offs);
extern u8 ti81xx_prcm_pwrdm_read_mem_statest(u16 offs);
extern void ti81xx_prcm_pwrdm_set_lowpowerstatechange(u16 offs);
extern int ti81xx_prcm_pwrdm_wait_transition(u16 offs);

#endif
